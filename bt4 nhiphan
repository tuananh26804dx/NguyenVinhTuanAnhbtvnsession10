#include <stdio.h>

int main() {
    int arr[] = {1,4,2,5,2,3,5,6,2,5,6};
    int n = sizeof(arr) / sizeof(arr[0]);
    int x, temp;

    printf("\nMang ban dau:\n");
    for (int i = 0; i < n; i++) {
        printf("%d  ", arr[i]);
    }

    // Sắp xếp tăng dần bằng thuật toán nổi bọt
    for (int i = 0; i < n - 1; i++) {
        for (int j = 0; j < n - 1 - i; j++) {
            if (arr[j] > arr[j + 1]) {
                temp = arr[j];
                arr[j] = arr[j + 1];
                arr[j + 1] = temp;
            }
        }
    }

    printf("\n\nMang sau khi sap xep tang dan:\n");
    for (int i = 0; i < n; i++) {
        printf("%d  ", arr[i]);
    }

    printf("\n\nNhap phan tu can tim kiem: ");
    scanf("%d", &x);

    // Tìm kiếm nhị phân
    int found = 0;
    int low = 0, high = n - 1;

    while (low <= high) {
        int mid = (low + high) / 2;
        if (arr[mid] == x) {
            found = 1;

            // Đếm số lần xuất hiện (vì mảng có thể có phần tử trùng)
            int count = 1;
            int left = mid - 1, right = mid + 1;

            while (left >= 0 && arr[left] == x) {
                count++;
                left--;
            }
            while (right < n && arr[right] == x) {
                count++;
                right++;
            }

            printf("\nPhan tu %d co trong mang va xuat hien %d lan.\n", x, count);
            break;
        } else if (arr[mid] < x) {
            low = mid + 1;
        } else {
            high = mid - 1;
        }
    }

    if (found == 0) {
        printf("\nPhan tu %d khong co trong mang.\n", x);
    }

    return 0;
}
